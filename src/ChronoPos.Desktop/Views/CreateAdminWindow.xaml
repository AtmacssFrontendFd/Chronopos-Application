<Window x:Class="ChronoPos.Desktop.Views.CreateAdminWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ChronoPos - Create Administrator Account" 
        Height="800" 
        Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F9FAFB"
        ResizeMode="NoResize"
        Loaded="Window_Loaded">
    
    <Window.Resources>
        <!-- Color Resources (defined locally since window loads before theme) -->
        <SolidColorBrush x:Key="PageBackground" Color="#F9FAFB"/>
        <SolidColorBrush x:Key="InputBackground" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="PrimaryText" Color="#1F2937"/>
        <SolidColorBrush x:Key="SecondaryText" Color="#6B7280"/>
        <SolidColorBrush x:Key="BorderMedium" Color="#D1D5DB"/>
        <SolidColorBrush x:Key="PrimaryColor" Color="#3B82F6"/>
        <SolidColorBrush x:Key="PrimaryHover" Color="#2563EB"/>
        <SolidColorBrush x:Key="SuccessColor" Color="#10B981"/>
        <SolidColorBrush x:Key="ChronoPosGold" Color="#D4AF37"/>
        <SolidColorBrush x:Key="SuccessGreen" Color="#10B981"/>
        <SolidColorBrush x:Key="WhiteText" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="ErrorRed" Color="#EF4444"/>
        
        <!-- ChronoPosGoldButton Style (local definition) -->
        <Style x:Key="ChronoPosGoldButton" TargetType="Button">
            <Setter Property="Background" Value="#D4AF37"/>
            <Setter Property="Foreground" Value="#000000"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Height" Value="52"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="8"
                                BorderThickness="0">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#C4A030"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#B49028"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#E5E7EB"/>
                                <Setter Property="Foreground" Value="#9CA3AF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Proper Input TextBox Style -->
        <Style x:Key="ProperInputTextBox" TargetType="TextBox">
            <Setter Property="Height" Value="48"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="{StaticResource InputBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderMedium}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"
                                        HorizontalScrollBarVisibility="Hidden"
                                        VerticalScrollBarVisibility="Disabled"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Proper Input PasswordBox Style -->
        <Style x:Key="ProperInputPasswordBox" TargetType="PasswordBox">
            <Setter Property="Height" Value="48"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="{StaticResource InputBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderMedium}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"
                                        HorizontalScrollBarVisibility="Hidden"
                                        VerticalScrollBarVisibility="Disabled"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="450"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Side - Success Message -->
        <Border Grid.Column="0" 
                Background="{StaticResource SuccessGreen}">
            <StackPanel VerticalAlignment="Center" 
                        HorizontalAlignment="Center"
                        Margin="40">
                <!-- Success Icon -->
                <Border Background="{StaticResource WhiteText}"
                        Width="100"
                        Height="100"
                        CornerRadius="50"
                        Margin="0,0,0,30">
                    <Viewbox Width="60" Height="60">
                        <TextBlock Text="&#xE8FB;" 
                                   FontFamily="Segoe MDL2 Assets"
                                   Foreground="{StaticResource SuccessGreen}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Viewbox>
                </Border>

                <TextBlock Text="License Activated!" 
                           FontSize="32" 
                           FontWeight="Bold" 
                           Foreground="{StaticResource WhiteText}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,15"/>
                
                <TextBlock Text="Your ChronoPos license has been successfully activated" 
                           FontSize="14" 
                           Foreground="{StaticResource WhiteText}"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           TextWrapping="Wrap"
                           Opacity="0.95"
                           MaxWidth="280"
                           Margin="0,0,0,40"/>

                <Border Background="{StaticResource WhiteText}"
                        CornerRadius="8"
                        Padding="20"
                        Opacity="0.15">
                    <StackPanel>
                        <TextBlock Text="Next Step" 
                                   FontWeight="SemiBold"
                                   FontSize="13"
                                   Margin="0,0,0,8"/>
                        <TextBlock Text="Create your administrator account to start using ChronoPos"
                                   FontSize="12"
                                   TextWrapping="Wrap"
                                   LineHeight="18"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>

        <!-- Right Side - Form -->
        <Border Grid.Column="1" 
                Background="{StaticResource PageBackground}"
                Padding="80,60">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel MaxWidth="550">
                    <!-- Header -->
                    <TextBlock Text="Create Administrator" 
                               FontSize="32" 
                               FontWeight="SemiBold" 
                               Foreground="{StaticResource PrimaryText}"
                               Margin="0,0,0,10"/>
                    
                    <TextBlock Text="Set up the admin account for your point of sale system" 
                               FontSize="14" 
                               Foreground="{StaticResource SecondaryText}"
                               Margin="0,0,0,40"/>

                    <!-- Full Name -->
                    <TextBlock Text="Full Name" 
                               Foreground="{StaticResource PrimaryText}"
                               FontSize="14"
                               FontWeight="Medium"
                               Margin="0,0,0,10"/>
                    <TextBox x:Name="FullNameTextBox"
                             Style="{StaticResource ProperInputTextBox}"
                             Margin="0,0,0,20"/>

                    <!-- Email -->
                    <TextBlock Text="Email Address" 
                               Foreground="{StaticResource PrimaryText}"
                               FontSize="14"
                               FontWeight="Medium"
                               Margin="0,0,0,10"/>
                    <TextBox x:Name="EmailTextBox"
                             Style="{StaticResource ProperInputTextBox}"
                             Margin="0,0,0,20"/>

                    <!-- Username -->
                    <TextBlock Text="Username" 
                               Foreground="{StaticResource PrimaryText}"
                               FontSize="14"
                               FontWeight="Medium"
                               Margin="0,0,0,10"/>
                    <TextBox x:Name="UsernameTextBox"
                             Style="{StaticResource ProperInputTextBox}"
                             Margin="0,0,0,20"/>

                    <!-- Password -->
                    <TextBlock Text="Password" 
                               Foreground="{StaticResource PrimaryText}"
                               FontSize="14"
                               FontWeight="Medium"
                               Margin="0,0,0,10"/>
                    <PasswordBox x:Name="PasswordBox"
                                 Style="{StaticResource ProperInputPasswordBox}"
                                 Margin="0,0,0,20"/>

                    <!-- Confirm Password -->
                    <TextBlock Text="Confirm Password" 
                               Foreground="{StaticResource PrimaryText}"
                               FontSize="14"
                               FontWeight="Medium"
                               Margin="0,0,0,10"/>
                    <PasswordBox x:Name="ConfirmPasswordBox"
                                 Style="{StaticResource ProperInputPasswordBox}"
                                 Margin="0,0,0,25"/>

                    <!-- Error Message -->
                    <Border Background="#FEE2E2"
                            BorderBrush="{StaticResource ErrorRed}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="14"
                            Margin="0,0,0,15"
                            Visibility="Collapsed"
                            x:Name="ErrorBorder"
                            MinHeight="50">
                        <TextBlock x:Name="ErrorTextBlock"
                                   Text=""
                                   Foreground="{StaticResource ErrorRed}"
                                   FontSize="13"
                                   FontWeight="Medium"
                                   TextWrapping="Wrap"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <!-- Success Message -->
                    <Border Background="#D1FAE5"
                            BorderBrush="{StaticResource SuccessGreen}"
                            BorderThickness="1"
                            CornerRadius="8"
                            Padding="14"
                            Margin="0,0,0,15"
                            Visibility="Collapsed"
                            x:Name="SuccessBorder"
                            MinHeight="50">
                        <TextBlock x:Name="SuccessTextBlock"
                                   Text=""
                                   Foreground="{StaticResource SuccessGreen}"
                                   FontSize="13"
                                   FontWeight="Medium"
                                   TextWrapping="Wrap"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <!-- Create Button -->
                    <Button Content="Create Administrator Account"
                            x:Name="CreateAdminButton"
                            Style="{StaticResource ChronoPosGoldButton}"
                            HorizontalAlignment="Stretch"
                            Margin="0,10,0,0"
                            Click="CreateAdminButton_Click"/>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Loading Overlay -->
        <Border Grid.ColumnSpan="2"
                x:Name="LoadingOverlay"
                Background="#CC000000"
                Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <Border Background="{StaticResource WhiteText}"
                        CornerRadius="12"
                        Padding="40,30">
                    <StackPanel>
                        <TextBlock Text="â³" 
                                   FontSize="48" 
                                   HorizontalAlignment="Center" 
                                   Margin="0,0,0,15"/>
                        <TextBlock Text="Creating administrator account..."
                                   Foreground="{StaticResource PrimaryText}"
                                   FontSize="16"
                                   FontWeight="Medium"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>
    </Grid>
</Window>