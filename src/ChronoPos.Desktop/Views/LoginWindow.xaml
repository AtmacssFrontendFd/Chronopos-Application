<Window x:Class="ChronoPos.Desktop.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ChronoPos - Login" 
        Height="800" 
        Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource PageBackground}"
        ResizeMode="NoResize">
    
    <Window.Resources>
        <!-- Proper Input TextBox Style -->
        <Style x:Key="ProperInputTextBox" TargetType="TextBox">
            <Setter Property="Height" Value="48"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="{StaticResource InputBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderMedium}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"
                                        HorizontalScrollBarVisibility="Hidden"
                                        VerticalScrollBarVisibility="Disabled"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Proper Input PasswordBox Style -->
        <Style x:Key="ProperInputPasswordBox" TargetType="PasswordBox">
            <Setter Property="Height" Value="48"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="{StaticResource InputBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderMedium}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                        Margin="{TemplateBinding Padding}"
                                        VerticalAlignment="Center"
                                        HorizontalScrollBarVisibility="Hidden"
                                        VerticalScrollBarVisibility="Disabled"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource ChronoPosGold}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Side - Branding -->
        <Border Grid.Column="0" 
                Background="{StaticResource ChronoPosGold}">
            <StackPanel VerticalAlignment="Center" 
                        HorizontalAlignment="Center"
                        Margin="60">
                <!-- Logo Icon -->
                <Border Background="{StaticResource WhiteText}"
                        Width="120"
                        Height="120"
                        CornerRadius="60"
                        Margin="0,0,0,30">
                    <Viewbox Width="70" Height="70">
                        <TextBlock Text="&#xE719;" 
                                   FontFamily="Segoe MDL2 Assets"
                                   Foreground="{StaticResource ChronoPosGold}"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"/>
                    </Viewbox>
                </Border>

                <TextBlock Text="ChronoPos" 
                           FontSize="42" 
                           FontWeight="Bold" 
                           Foreground="{StaticResource WhiteText}"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"/>
                
                <TextBlock Text="Point of Sale System" 
                           FontSize="18" 
                           Foreground="{StaticResource WhiteText}"
                           HorizontalAlignment="Center"
                           Opacity="0.9"
                           Margin="0,0,0,40"/>

                <TextBlock Text="Professional retail management solution for modern businesses" 
                           FontSize="14" 
                           Foreground="{StaticResource WhiteText}"
                           HorizontalAlignment="Center"
                           TextAlignment="Center"
                           TextWrapping="Wrap"
                           Opacity="0.8"
                           MaxWidth="300"/>
            </StackPanel>
        </Border>

        <!-- Right Side - Login Form -->
        <Border Grid.Column="1" 
                Background="{StaticResource PageBackground}">
            <StackPanel MaxWidth="500" 
                        VerticalAlignment="Center" 
                        HorizontalAlignment="Center" 
                        Margin="60">
                
                <!-- Welcome Header -->
                <TextBlock Text="Welcome Back!" 
                           FontSize="36" 
                           FontWeight="SemiBold" 
                           Foreground="{StaticResource PrimaryText}"
                           Margin="0,0,0,10"/>
                
                <TextBlock Text="Sign in to continue to ChronoPOS" 
                           FontSize="15" 
                           Foreground="{StaticResource SecondaryText}"
                           Margin="0,0,0,45"/>

                <!-- Username -->
                <TextBlock Text="Username or Email" 
                           Foreground="{StaticResource PrimaryText}"
                           FontSize="14"
                           FontWeight="Medium"
                           Margin="0,0,0,10"/>
                <TextBox x:Name="UsernameTextBox"
                         Style="{StaticResource ProperInputTextBox}"
                         Margin="0,0,0,22"
                         KeyDown="Input_KeyDown"/>

                <!-- Password -->
                <TextBlock Text="Password" 
                           Foreground="{StaticResource PrimaryText}"
                           FontSize="14"
                           FontWeight="Medium"
                           Margin="0,0,0,10"/>
                <PasswordBox x:Name="PasswordBox"
                             Style="{StaticResource ProperInputPasswordBox}"
                             Margin="0,0,0,18"
                             KeyDown="Input_KeyDown"/>

                <!-- Remember Me -->
                <CheckBox x:Name="RememberMeCheckBox"
                          Content="Remember me"
                          Foreground="{StaticResource SecondaryText}"
                          FontSize="13"
                          Margin="0,0,0,25"/>

                <!-- Error Message -->
                <Border Background="#FEE2E2"
                        BorderBrush="{StaticResource ErrorRed}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="14"
                        Margin="0,0,0,20"
                        Visibility="Collapsed"
                        x:Name="ErrorBorder">
                    <TextBlock x:Name="ErrorTextBlock"
                               Foreground="{StaticResource ErrorRed}"
                               FontSize="13"
                               TextWrapping="Wrap"/>
                </Border>

                <!-- Login Button -->
                <Button Content="Sign In"
                        x:Name="LoginButton"
                        Style="{StaticResource ChronoPosGoldButton}"
                        HorizontalAlignment="Stretch"
                        Margin="0,0,0,15"
                        Click="LoginButton_Click"/>

                <!-- Close Button -->
                <Button Content="Exit Application"
                        Style="{StaticResource ChronoPosSecondaryButton}"
                        HorizontalAlignment="Stretch"
                        Click="CloseButton_Click"/>
            </StackPanel>
        </Border>

        <!-- Loading Overlay -->
        <Border Grid.ColumnSpan="2"
                x:Name="LoadingOverlay"
                Background="#CC000000"
                Visibility="Collapsed">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <Border Background="{StaticResource WhiteText}"
                        CornerRadius="12"
                        Padding="40,30">
                    <StackPanel>
                        <TextBlock Text="â³" 
                                   FontSize="48" 
                                   HorizontalAlignment="Center" 
                                   Margin="0,0,0,15"/>
                        <TextBlock Text="Signing in..."
                                   Foreground="{StaticResource PrimaryText}"
                                   FontSize="16"
                                   FontWeight="Medium"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Border>
    </Grid>
</Window>
